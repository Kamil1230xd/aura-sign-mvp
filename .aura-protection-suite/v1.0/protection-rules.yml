version: "1.0"

branches:
  protected:
    - main
    - develop
    - release/*

protection:
  required_reviews:
    count: 1
    dismiss_stale_reviews: true
    require_code_owner_reviews: true
  
  required_status_checks:
    strict: true
    contexts:
      - "CI / build"
      - "CI / test"
      - "security / scan"
  
  required_signatures: true
  
  restrictions:
    push:
      teams: []
      users: []
    
  enforce_admins: true
  
  allow_force_pushes: false
  allow_deletions: false

pull_requests:
  required_checks:
    - lint
    - type-check
    - build
    - test
  
  auto_merge: false
  delete_branch_on_merge: true
